{{ define "main" }}
<main class="homepage prose max-w-screen-md mx-auto px-4">

  <section class="intro mb-8">
    <h1 class="text-3xl font-bold mb-2">{{ .Title }}</h1>
    {{ if .Params.description }}
      <p class="text-lg text-gray-600">{{ .Params.description }}</p>
    {{ end }}
    <div class="mt-4">
      {{ .Content }}
    </div>
  </section>

  <hr class="my-6">

  <section class="recent-posts">
    <h2 class="text-2xl font-semibold mb-4">📝 Recent posts</h2>
    <ul>
      {{ range first 5 (where .Site.RegularPages "Section" "posts") }}
        <li class="mb-2">
          <a href="{{ .RelPermalink }}" class="text-blue-600 hover:underline">
            {{ .Title }}
          </a>
          <span class="text-sm text-gray-500">
            — {{ .Date.Format site.Params.DateFormat }}
          </span>
        </li>
      {{ end }}
    </ul>
  </section>

  <hr class="my-6">
  <section class="debug-posts">
    <h2 class="text-xl font-bold">🛠 Debug: All regular pages</h2>
    <ul>
      {{ range .Site.RegularPages }}
        <li>
          <code>{{ .File.Path }}</code>
          &nbsp;|&nbsp; section: <strong>{{ .Section }}</strong>
          &nbsp;|&nbsp; title: {{ .Title }}
        </li>
      {{ end }}
    </ul>
  </section>


</main>
{{ end }}
